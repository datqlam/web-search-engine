{"ast":null,"code":"var _jsxFileName = \"/home/datio/workspace/react-searchkit/src/lib/components/ResultsList/ResultsList.js\";\n\n/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport _truncate from 'lodash/truncate';\nimport { Item, Label } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\nexport default class ResultsList extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderResult(result, index) {\n    const metadata = result.metadata;\n    const keywords = metadata.keywords || [];\n    const labels = keywords.map((keyword, index) => React.createElement(Label, {\n      key: index,\n      content: keyword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }));\n    return React.createElement(Item, {\n      key: index,\n      href: \"#\".concat(metadata.recid),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(Item.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(Item.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, metadata.title.title || metadata.title), React.createElement(Item.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, _truncate(metadata.description, {\n      length: 200\n    })), React.createElement(Item.Extra, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, labels)));\n  }\n\n  _renderElement(results) {\n    const _results = results.map((result, index) => this._renderResult(result, index));\n\n    return React.createElement(Item.Group, {\n      divided: true,\n      relaxed: true,\n      link: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, _results);\n  }\n\n  render() {\n    const _this$props = this.props,\n          loading = _this$props.loading,\n          totalResults = _this$props.totalResults,\n          results = _this$props.results;\n    return React.createElement(ShouldRender, {\n      condition: !loading && totalResults > 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.renderElement(results));\n  }\n\n}\nResultsList.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n  renderElement: PropTypes.func\n};\nResultsList.defaultProps = {\n  renderElement: null\n};","map":{"version":3,"sources":["/home/datio/workspace/react-searchkit/src/lib/components/ResultsList/ResultsList.js"],"names":["React","Component","PropTypes","_truncate","Item","Label","ShouldRender","ResultsList","constructor","props","renderElement","_renderElement","_renderResult","result","index","metadata","keywords","labels","map","keyword","recid","title","description","length","results","_results","render","loading","totalResults","propTypes","bool","isRequired","number","array","func","defaultProps"],"mappings":"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","sourcesContent":["/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport _truncate from 'lodash/truncate';\nimport { Item, Label } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class ResultsList extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderResult(result, index) {\n    const metadata = result.metadata;\n    const keywords = metadata.keywords || [];\n    const labels = keywords.map((keyword, index) => (\n      <Label key={index} content={keyword} />\n    ));\n\n    return (\n      <Item key={index} href={`#${metadata.recid}`}>\n        {/* <Item.Image\n          size=\"small\"\n          src={result.imageSrc || 'https://via.placeholder.com/200'}\n        /> */}\n\n        <Item.Content>\n          <Item.Header>{metadata.title.title || metadata.title}</Item.Header>\n          <Item.Description>\n            {_truncate(metadata.description, { length: 200 })}\n          </Item.Description>\n          <Item.Extra>{labels}</Item.Extra>\n        </Item.Content>\n      </Item>\n    );\n  }\n\n  _renderElement(results) {\n    const _results = results.map((result, index) =>\n      this._renderResult(result, index)\n    );\n\n    return (\n      <Item.Group divided relaxed link>\n        {_results}\n      </Item.Group>\n    );\n  }\n\n  render() {\n    const { loading, totalResults, results } = this.props;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0}>\n        {this.renderElement(results)}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsList.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n  renderElement: PropTypes.func,\n};\n\nResultsList.defaultProps = {\n  renderElement: null,\n};\n"]},"metadata":{},"sourceType":"module"}