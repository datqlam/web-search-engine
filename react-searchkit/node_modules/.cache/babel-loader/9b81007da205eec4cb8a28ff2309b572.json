{"ast":null,"code":"import _defineProperty from \"/home/datio/workspace/react-searchkit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport { SET_QUERY_COMPONENT_INITIAL_STATE, SET_QUERY_STRING, SET_QUERY_SORTING, SET_QUERY_SORT_BY, SET_QUERY_SORT_ORDER, SET_QUERY_PAGINATION_PAGE, SET_QUERY_PAGINATION_SIZE, SET_QUERY_AGGREGATION, SET_QUERY_SUGGESTIONS, SET_SUGGESTION_STRING, CLEAR_QUERY_SUGGESTIONS, RESULTS_UPDATE_LAYOUT, RESET_QUERY } from '../types';\nimport { updateQueryAggregation } from '../selectors';\nexport default ((state = {}, action) => {\n  switch (action.type) {\n    case SET_QUERY_STRING:\n      return _objectSpread({}, state, {\n        queryString: action.payload,\n        page: 1\n      });\n\n    case SET_QUERY_SORTING:\n      return _objectSpread({}, state, {\n        sortBy: action.payload.sortBy,\n        sortOrder: action.payload.sortOrder,\n        page: 1\n      });\n\n    case SET_QUERY_SORT_BY:\n      return _objectSpread({}, state, {\n        sortBy: action.payload,\n        page: 1\n      });\n\n    case SET_QUERY_SORT_ORDER:\n      return _objectSpread({}, state, {\n        sortOrder: action.payload,\n        page: 1\n      });\n\n    case SET_QUERY_PAGINATION_PAGE:\n      return _objectSpread({}, state, {\n        page: action.payload\n      });\n\n    case SET_QUERY_PAGINATION_SIZE:\n      return _objectSpread({}, state, {\n        size: action.payload,\n        page: 1\n      });\n\n    case SET_QUERY_AGGREGATION:\n      {\n        return _objectSpread({}, state, {\n          page: 1,\n          aggregations: updateQueryAggregation(action.payload, state.aggregations)\n        });\n      }\n\n    case SET_QUERY_SUGGESTIONS:\n      return _objectSpread({}, state, {\n        suggestions: action.payload.suggestions\n      });\n\n    case CLEAR_QUERY_SUGGESTIONS:\n      return _objectSpread({}, state, {\n        suggestions: action.payload.suggestions\n      });\n\n    case SET_SUGGESTION_STRING:\n      return _objectSpread({}, state, {\n        suggestionString: action.payload\n      });\n\n    case SET_QUERY_COMPONENT_INITIAL_STATE:\n      return _objectSpread({}, state, {}, action.payload);\n\n    case RESULTS_UPDATE_LAYOUT:\n      return _objectSpread({}, state, {\n        layout: action.payload\n      });\n\n    case RESET_QUERY:\n      return _objectSpread({}, state, {\n        queryString: '',\n        page: 1,\n        aggregations: []\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/datio/workspace/react-searchkit/src/lib/state/reducers/query.js"],"names":["SET_QUERY_COMPONENT_INITIAL_STATE","SET_QUERY_STRING","SET_QUERY_SORTING","SET_QUERY_SORT_BY","SET_QUERY_SORT_ORDER","SET_QUERY_PAGINATION_PAGE","SET_QUERY_PAGINATION_SIZE","SET_QUERY_AGGREGATION","SET_QUERY_SUGGESTIONS","SET_SUGGESTION_STRING","CLEAR_QUERY_SUGGESTIONS","RESULTS_UPDATE_LAYOUT","RESET_QUERY","updateQueryAggregation","state","action","type","queryString","payload","page","sortBy","sortOrder","size","aggregations","suggestions","suggestionString","layout"],"mappings":";;;;;;AAAA;;;;;;;AAQA,SACEA,iCADF,EAEEC,gBAFF,EAGEC,iBAHF,EAIEC,iBAJF,EAKEC,oBALF,EAMEC,yBANF,EAOEC,yBAPF,EAQEC,qBARF,EASEC,qBATF,EAUEC,qBAVF,EAWEC,uBAXF,EAYEC,qBAZF,EAaEC,WAbF,QAcO,UAdP;AAeA,SAASC,sBAAT,QAAuC,cAAvC;AAEA,gBAAe,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKf,gBAAL;AACE,+BAAYa,KAAZ;AAAmBG,QAAAA,WAAW,EAAEF,MAAM,CAACG,OAAvC;AAAgDC,QAAAA,IAAI,EAAE;AAAtD;;AACF,SAAKjB,iBAAL;AACE,+BACKY,KADL;AAEEM,QAAAA,MAAM,EAAEL,MAAM,CAACG,OAAP,CAAeE,MAFzB;AAGEC,QAAAA,SAAS,EAAEN,MAAM,CAACG,OAAP,CAAeG,SAH5B;AAIEF,QAAAA,IAAI,EAAE;AAJR;;AAMF,SAAKhB,iBAAL;AACE,+BACKW,KADL;AAEEM,QAAAA,MAAM,EAAEL,MAAM,CAACG,OAFjB;AAGEC,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAKf,oBAAL;AACE,+BACKU,KADL;AAEEO,QAAAA,SAAS,EAAEN,MAAM,CAACG,OAFpB;AAGEC,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAKd,yBAAL;AACE,+BACKS,KADL;AAEEK,QAAAA,IAAI,EAAEJ,MAAM,CAACG;AAFf;;AAIF,SAAKZ,yBAAL;AACE,+BACKQ,KADL;AAEEQ,QAAAA,IAAI,EAAEP,MAAM,CAACG,OAFf;AAGEC,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAKZ,qBAAL;AAA4B;AAC1B,iCACKO,KADL;AAEEK,UAAAA,IAAI,EAAE,CAFR;AAGEI,UAAAA,YAAY,EAAEV,sBAAsB,CAClCE,MAAM,CAACG,OAD2B,EAElCJ,KAAK,CAACS,YAF4B;AAHtC;AAQD;;AACD,SAAKf,qBAAL;AACE,+BACKM,KADL;AAEEU,QAAAA,WAAW,EAAET,MAAM,CAACG,OAAP,CAAeM;AAF9B;;AAIF,SAAKd,uBAAL;AACE,+BACKI,KADL;AAEEU,QAAAA,WAAW,EAAET,MAAM,CAACG,OAAP,CAAeM;AAF9B;;AAIF,SAAKf,qBAAL;AACE,+BACKK,KADL;AAEEW,QAAAA,gBAAgB,EAAEV,MAAM,CAACG;AAF3B;;AAIF,SAAKlB,iCAAL;AACE,+BACKc,KADL,MAEKC,MAAM,CAACG,OAFZ;;AAIF,SAAKP,qBAAL;AACE,+BACKG,KADL;AAEEY,QAAAA,MAAM,EAAEX,MAAM,CAACG;AAFjB;;AAIF,SAAKN,WAAL;AACE,+BACKE,KADL;AAEEG,QAAAA,WAAW,EAAE,EAFf;AAGEE,QAAAA,IAAI,EAAE,CAHR;AAIEI,QAAAA,YAAY,EAAE;AAJhB;;AAMF;AACE,aAAOT,KAAP;AA5EJ;AA8ED,CA/ED","sourcesContent":["/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport {\n  SET_QUERY_COMPONENT_INITIAL_STATE,\n  SET_QUERY_STRING,\n  SET_QUERY_SORTING,\n  SET_QUERY_SORT_BY,\n  SET_QUERY_SORT_ORDER,\n  SET_QUERY_PAGINATION_PAGE,\n  SET_QUERY_PAGINATION_SIZE,\n  SET_QUERY_AGGREGATION,\n  SET_QUERY_SUGGESTIONS,\n  SET_SUGGESTION_STRING,\n  CLEAR_QUERY_SUGGESTIONS,\n  RESULTS_UPDATE_LAYOUT,\n  RESET_QUERY,\n} from '../types';\nimport { updateQueryAggregation } from '../selectors';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SET_QUERY_STRING:\n      return { ...state, queryString: action.payload, page: 1 };\n    case SET_QUERY_SORTING:\n      return {\n        ...state,\n        sortBy: action.payload.sortBy,\n        sortOrder: action.payload.sortOrder,\n        page: 1,\n      };\n    case SET_QUERY_SORT_BY:\n      return {\n        ...state,\n        sortBy: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_SORT_ORDER:\n      return {\n        ...state,\n        sortOrder: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_PAGINATION_PAGE:\n      return {\n        ...state,\n        page: action.payload,\n      };\n    case SET_QUERY_PAGINATION_SIZE:\n      return {\n        ...state,\n        size: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_AGGREGATION: {\n      return {\n        ...state,\n        page: 1,\n        aggregations: updateQueryAggregation(\n          action.payload,\n          state.aggregations\n        ),\n      };\n    }\n    case SET_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case CLEAR_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case SET_SUGGESTION_STRING:\n      return {\n        ...state,\n        suggestionString: action.payload,\n      };\n    case SET_QUERY_COMPONENT_INITIAL_STATE:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case RESULTS_UPDATE_LAYOUT:\n      return {\n        ...state,\n        layout: action.payload,\n      };\n    case RESET_QUERY:\n      return {\n        ...state,\n        queryString: '',\n        page: 1,\n        aggregations: [],\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}